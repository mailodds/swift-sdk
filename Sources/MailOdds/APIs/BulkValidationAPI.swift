//
// BulkValidationAPI.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation

open class BulkValidationAPI {

    /**
     Cancel a job
     
     - parameter jobId: (path)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: JobResponse
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func cancelJob(jobId: String, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> JobResponse {
        return try await cancelJobWithRequestBuilder(jobId: jobId, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Cancel a job
     - POST /v1/jobs/{job_id}/cancel
     - Cancel a pending or processing job. Partial results are preserved.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter jobId: (path)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<JobResponse> 
     */
    open class func cancelJobWithRequestBuilder(jobId: String, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<JobResponse> {
        var localVariablePath = "/v1/jobs/{job_id}/cancel"
        let jobIdPreEscape = "\(APIHelper.mapValueToPathItem(jobId))"
        let jobIdPostEscape = jobIdPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{job_id}", with: jobIdPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<JobResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }

    /**
     Create bulk validation job (JSON)
     
     - parameter createJobRequest: (body)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: JobResponse
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func createJob(createJobRequest: CreateJobRequest, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> JobResponse {
        return try await createJobWithRequestBuilder(createJobRequest: createJobRequest, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Create bulk validation job (JSON)
     - POST /v1/jobs
     - Create a new bulk validation job by submitting a JSON array of emails.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter createJobRequest: (body)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<JobResponse> 
     */
    open class func createJobWithRequestBuilder(createJobRequest: CreateJobRequest, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<JobResponse> {
        let localVariablePath = "/v1/jobs"
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters = JSONEncodingHelper.encodingParameters(forEncodableObject: createJobRequest, codableHelper: apiConfiguration.codableHelper)

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            "Content-Type": "application/json",
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<JobResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }

    /**
     Create job from S3 upload
     
     - parameter createJobFromS3Request: (body)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: JobResponse
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func createJobFromS3(createJobFromS3Request: CreateJobFromS3Request, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> JobResponse {
        return try await createJobFromS3WithRequestBuilder(createJobFromS3Request: createJobFromS3Request, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Create job from S3 upload
     - POST /v1/jobs/upload/s3
     - Create a validation job from a file previously uploaded to S3.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter createJobFromS3Request: (body)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<JobResponse> 
     */
    open class func createJobFromS3WithRequestBuilder(createJobFromS3Request: CreateJobFromS3Request, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<JobResponse> {
        let localVariablePath = "/v1/jobs/upload/s3"
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters = JSONEncodingHelper.encodingParameters(forEncodableObject: createJobFromS3Request, codableHelper: apiConfiguration.codableHelper)

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            "Content-Type": "application/json",
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<JobResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }

    /**
     Create bulk validation job (file upload)
     
     - parameter file: (form) CSV, Excel (.xlsx, .xls), ODS, or TXT file 
     - parameter dedup: (form) Remove duplicate emails (optional, default to false)
     - parameter metadata: (form) JSON metadata for the job (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: JobResponse
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func createJobUpload(file: URL, dedup: Bool? = nil, metadata: String? = nil, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> JobResponse {
        return try await createJobUploadWithRequestBuilder(file: file, dedup: dedup, metadata: metadata, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Create bulk validation job (file upload)
     - POST /v1/jobs/upload
     - Create a new bulk validation job by uploading a CSV, Excel, or TXT file.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter file: (form) CSV, Excel (.xlsx, .xls), ODS, or TXT file 
     - parameter dedup: (form) Remove duplicate emails (optional, default to false)
     - parameter metadata: (form) JSON metadata for the job (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<JobResponse> 
     */
    open class func createJobUploadWithRequestBuilder(file: URL, dedup: Bool? = nil, metadata: String? = nil, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<JobResponse> {
        let localVariablePath = "/v1/jobs/upload"
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableFormParams: [String: (any Sendable)?] = [
            "file": file.asParameter(codableHelper: apiConfiguration.codableHelper),
            "dedup": dedup?.asParameter(codableHelper: apiConfiguration.codableHelper),
            "metadata": metadata?.asParameter(codableHelper: apiConfiguration.codableHelper),
        ]

        let localVariableNonNullParameters = APIHelper.rejectNil(localVariableFormParams)
        let localVariableParameters = APIHelper.convertBoolToString(localVariableNonNullParameters)

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            "Content-Type": "multipart/form-data",
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<JobResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }

    /**
     Delete a job
     
     - parameter jobId: (path)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: DeleteJob200Response
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func deleteJob(jobId: String, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> DeleteJob200Response {
        return try await deleteJobWithRequestBuilder(jobId: jobId, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Delete a job
     - DELETE /v1/jobs/{job_id}
     - Permanently delete a completed or cancelled job and its results.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter jobId: (path)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<DeleteJob200Response> 
     */
    open class func deleteJobWithRequestBuilder(jobId: String, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<DeleteJob200Response> {
        var localVariablePath = "/v1/jobs/{job_id}"
        let jobIdPreEscape = "\(APIHelper.mapValueToPathItem(jobId))"
        let jobIdPostEscape = jobIdPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{job_id}", with: jobIdPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<DeleteJob200Response>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "DELETE", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }

    /**
     Get job status
     
     - parameter jobId: (path)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: JobResponse
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func getJob(jobId: String, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> JobResponse {
        return try await getJobWithRequestBuilder(jobId: jobId, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Get job status
     - GET /v1/jobs/{job_id}
     - Get the status and details of a specific validation job.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter jobId: (path)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<JobResponse> 
     */
    open class func getJobWithRequestBuilder(jobId: String, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<JobResponse> {
        var localVariablePath = "/v1/jobs/{job_id}"
        let jobIdPreEscape = "\(APIHelper.mapValueToPathItem(jobId))"
        let jobIdPostEscape = jobIdPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{job_id}", with: jobIdPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<JobResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }

    /**
     * enum for parameter format
     */
    public enum Format_getJobResults: String, Sendable, CaseIterable {
        case json = "json"
        case csv = "csv"
        case ndjson = "ndjson"
    }

    /**
     * enum for parameter filter
     */
    public enum Filter_getJobResults: String, Sendable, CaseIterable {
        case all = "all"
        case validOnly = "valid_only"
        case invalidOnly = "invalid_only"
    }

    /**
     Get job results
     
     - parameter jobId: (path)  
     - parameter format: (query)  (optional, default to .json)
     - parameter filter: (query)  (optional)
     - parameter page: (query)  (optional, default to 1)
     - parameter perPage: (query)  (optional, default to 1000)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: ResultsResponse
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func getJobResults(jobId: String, format: Format_getJobResults? = nil, filter: Filter_getJobResults? = nil, page: Int? = nil, perPage: Int? = nil, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> ResultsResponse {
        return try await getJobResultsWithRequestBuilder(jobId: jobId, format: format, filter: filter, page: page, perPage: perPage, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Get job results
     - GET /v1/jobs/{job_id}/results
     - Download validation results in JSON, CSV, or NDJSON format.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter jobId: (path)  
     - parameter format: (query)  (optional, default to .json)
     - parameter filter: (query)  (optional)
     - parameter page: (query)  (optional, default to 1)
     - parameter perPage: (query)  (optional, default to 1000)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<ResultsResponse> 
     */
    open class func getJobResultsWithRequestBuilder(jobId: String, format: Format_getJobResults? = nil, filter: Filter_getJobResults? = nil, page: Int? = nil, perPage: Int? = nil, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<ResultsResponse> {
        var localVariablePath = "/v1/jobs/{job_id}/results"
        let jobIdPreEscape = "\(APIHelper.mapValueToPathItem(jobId))"
        let jobIdPostEscape = jobIdPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        localVariablePath = localVariablePath.replacingOccurrences(of: "{job_id}", with: jobIdPostEscape, options: .literal, range: nil)
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "format": (wrappedValue: format?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "filter": (wrappedValue: filter?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "page": (wrappedValue: page?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "per_page": (wrappedValue: perPage?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<ResultsResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }

    /**
     Get S3 presigned upload URL
     
     - parameter getPresignedUploadRequest: (body)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: PresignedUploadResponse
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func getPresignedUpload(getPresignedUploadRequest: GetPresignedUploadRequest, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> PresignedUploadResponse {
        return try await getPresignedUploadWithRequestBuilder(getPresignedUploadRequest: getPresignedUploadRequest, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     Get S3 presigned upload URL
     - POST /v1/jobs/upload/presigned
     - Get a presigned URL for uploading large files (>10MB) directly to S3.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter getPresignedUploadRequest: (body)  
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<PresignedUploadResponse> 
     */
    open class func getPresignedUploadWithRequestBuilder(getPresignedUploadRequest: GetPresignedUploadRequest, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<PresignedUploadResponse> {
        let localVariablePath = "/v1/jobs/upload/presigned"
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters = JSONEncodingHelper.encodingParameters(forEncodableObject: getPresignedUploadRequest, codableHelper: apiConfiguration.codableHelper)

        let localVariableUrlComponents = URLComponents(string: localVariableURLString)

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            "Content-Type": "application/json",
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<PresignedUploadResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "POST", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }

    /**
     * enum for parameter status
     */
    public enum Status_listJobs: String, Sendable, CaseIterable {
        case pending = "pending"
        case processing = "processing"
        case completed = "completed"
        case failed = "failed"
        case cancelled = "cancelled"
    }

    /**
     List validation jobs
     
     - parameter page: (query)  (optional, default to 1)
     - parameter perPage: (query)  (optional, default to 20)
     - parameter status: (query)  (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: JobListResponse
     */
    @available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
    open class func listJobs(page: Int? = nil, perPage: Int? = nil, status: Status_listJobs? = nil, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) async throws(ErrorResponse) -> JobListResponse {
        return try await listJobsWithRequestBuilder(page: page, perPage: perPage, status: status, apiConfiguration: apiConfiguration).execute().body
    }

    /**
     List validation jobs
     - GET /v1/jobs
     - List all validation jobs for the authenticated account.
     - Bearer Token:
       - type: http
       - name: BearerAuth
     - parameter page: (query)  (optional, default to 1)
     - parameter perPage: (query)  (optional, default to 20)
     - parameter status: (query)  (optional)
     - parameter apiConfiguration: The configuration for the http request.
     - returns: RequestBuilder<JobListResponse> 
     */
    open class func listJobsWithRequestBuilder(page: Int? = nil, perPage: Int? = nil, status: Status_listJobs? = nil, apiConfiguration: MailOddsAPIConfiguration = MailOddsAPIConfiguration.shared) -> RequestBuilder<JobListResponse> {
        let localVariablePath = "/v1/jobs"
        let localVariableURLString = apiConfiguration.basePath + localVariablePath
        let localVariableParameters: [String: any Sendable]? = nil

        var localVariableUrlComponents = URLComponents(string: localVariableURLString)
        localVariableUrlComponents?.queryItems = APIHelper.mapValuesToQueryItems([
            "page": (wrappedValue: page?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "per_page": (wrappedValue: perPage?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
            "status": (wrappedValue: status?.asParameter(codableHelper: apiConfiguration.codableHelper), isExplode: true),
        ])

        let localVariableNillableHeaders: [String: (any Sendable)?] = [
            :
        ]

        let localVariableHeaderParameters = APIHelper.rejectNilHeaders(localVariableNillableHeaders)

        let localVariableRequestBuilder: RequestBuilder<JobListResponse>.Type = apiConfiguration.requestBuilderFactory.getBuilder()

        return localVariableRequestBuilder.init(method: "GET", URLString: (localVariableUrlComponents?.string ?? localVariableURLString), parameters: localVariableParameters, headers: localVariableHeaderParameters, requiresAuthentication: true, apiConfiguration: apiConfiguration)
    }
}
